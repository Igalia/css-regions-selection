<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="resources/debug.js"></script>
    <link rel="stylesheet" type="text/css" href="resources/style.css"></link>

    <style>
        #source {
            -webkit-flow-into: flow;
        }

        .region {
            -webkit-flow-from: flow;
            height: auto;
        }

        .break {
            -webkit-region-break-after: always;
        }
    </style>
    <script>
        document.onmouseup = null;
    </script>
</head>
<body>
    <div id="description">
        <h1>Performance test for selection in CSS Regions</h1>
        <p>Every time you click the <em>Select</em> button, the test performs a selection using JavaScript methods <tt><a href="https://dvcs.w3.org/hg/editing/raw-file/tip/editing.html#dom-selection-collapse">collapse</a></tt> and <tt><a href="https://dvcs.w3.org/hg/editing/raw-file/tip/editing.html#dom-selection-extend">extend</a></tt> from <span class="token">word0</span> to <span class="token" id="lastWord"></span>, passing through the rest of keywords. Then it shows the time requiered to execute the selection and calculates the average for all the selections done.</p>
        <p>By default this test has 100 <tt>divs</tt> (50 regular <tt>divs</tt> and 50 regions) but you can modify this number with a <tt>GET</tt> param. For example, for 1000 <tt>divs</tt> you should add <tt>?1000</tt> to the URL (<a href="?1000">see link</a>).</p>
        <p>
            <button onClick="selectText(1);">Select</button>
            <button onClick="selectText(10);">Select (x10)</button>
            <button onClick="selectText(20);">Select (x20)</button>
            |
            <button onClick="selectAll(1);">Select all</button>
            <button onClick="selectAll(10);">Select all (x10)</button>
            <button onClick="selectAll(20);">Select all (x20)</button>
            |
            <button onClick="selectDirectly(1);">Select directly</button>
            <button onClick="selectDirectly(10);">Select directly (x10)</button>
            <button onClick="selectDirectly(20);">Select directly (x20)</button>
        </p>
        <table id="summary">
            <tr><th>Number of regular <tt>divs</tt></th><td id="regularDivsCounter"></td></tr>
            <tr><th>Number of regions</th><td id="regionsCounter"></td></tr>
            <tr><th>Average</th><td id="average"></td></tr>
        </table>
    </div>
    <script>
        fillDescription();
        createRegionsDocument();
    </script>
</body>
</html>
